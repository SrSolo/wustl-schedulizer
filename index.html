<!DOCTYPE html>
<html>
<head>
    <title>File Upload</title>
    <link rel="stylesheet" type="text/css" href="index.css" >
</head>
<body>
    <h2>Upload a PDF File</h2>
    <form id="upload-form">
        <label for="file-input" id="file-label">Choose a file</label>
        <input type="file" id="file-input" accept=".pdf" />
    </form>
    <div id="file-name"></div>
    <button id="upload-button">Upload</button>

    <script>
        const fileInput = document.getElementById("file-input");
        const fileLabel = document.getElementById("file-label");
        const fileNameDisplay = document.getElementById("file-name");
        const uploadButton = document.getElementById("upload-button");

        fileInput.addEventListener("change", () => {
            const file = fileInput.files[0];
            if (file) {
                const fileName = file.name;
                fileNameDisplay.textContent = `Selected file: ${fileName}`;
            } else {
                fileNameDisplay.textContent = "";
            }
        });

        fileLabel.addEventListener("click", () => {
            fileInput.click();
        });

        uploadButton.addEventListener("click", () => {
            const file = fileInput.files[0];

            if (!file) {
                alert('No file selected');
                return;
            }

            const formData = new FormData();
            formData.append('file', file);

            fetch('/api/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
            })
            .catch(error => {
                alert('Error occurred during upload.');
                console.error(error);
            });
        });
    </script>
</body>
</html>


